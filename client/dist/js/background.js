(()=>{function e(){return chrome.tabs.query({active:!0,currentWindow:!0},(e=>{var o=e[0];if(o&&o.url)return o.url;console.log("No active tab or URL found.")})),""}chrome.runtime.onMessage.addListener(((o,n,t)=>{if("generateReadme"===o.action){const o=e();console.log(o),t({message:o})}else if("downloadReadMe"==o.action){const e=o.data,n=new Blob([e],{type:"text/plain"}),t=URL.createObjectURL(n);chrome.downloads.download({url:t,filename:"myReadMe.txt",conflictAction:"uniquify"},(e=>{chrome.runtime.lastError?console.error(chrome.runtime.lastError):console.log(`Download initiated with ID: ${e}`)}))}else console.log(`Unrecognized action: ${o.action}`),t({status:"Unrecognized Action"});return!0})),chrome.action.onClicked.addListener((o=>{e()}))})();