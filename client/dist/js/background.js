(()=>{function e(){return new Promise(((e,o)=>{chrome.tabs.query({active:!0,currentWindow:!0},(o=>{var n=o[0];n&&n.url?e(n.url):console.log("No active tab or URL found.")}))}))}chrome.runtime.onMessage.addListener(((o,n,r)=>{if("generateReadme"===o.action)e().then((e=>{r({message:e})})).catch((e=>{console.error("Error:",e)}));else if("downloadReadMe"==o.action){const e=o.data;console.log(e);const n=new Blob([e],{type:"text/plain"}),r=URL.createObjectURL(n);chrome.downloads.download({url:r,filename:"myReadMe.md",conflictAction:"uniquify"},(e=>{chrome.runtime.lastError?console.error(chrome.runtime.lastError):console.log(`Download initiated with ID: ${e}`)}))}else console.log(`Unrecognized action: ${o.action}`),r({status:"Unrecognized Action"});return!0})),chrome.action.onClicked.addListener((o=>{e()}))})();