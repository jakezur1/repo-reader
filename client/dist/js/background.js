<<<<<<< HEAD
(()=>{function e(){return chrome.tabs.query({active:!0,currentWindow:!0},(e=>{var o=e[0];if(o&&o.url)return o.url;console.log("No active tab or URL found.")})),""}chrome.runtime.onMessage.addListener(((o,n,t)=>{if("generateReadme"===o.action){const o=e();console.log(o),t({message:o})}else if("downloadReadMe"==o.action){const e=o.data,n=new Blob([e],{type:"text/plain"}),t=URL.createObjectURL(n);chrome.downloads.download({url:t,filename:"myReadMe.txt",conflictAction:"uniquify"},(e=>{chrome.runtime.lastError?console.error(chrome.runtime.lastError):console.log(`Download initiated with ID: ${e}`)}))}else console.log(`Unrecognized action: ${o.action}`),t({status:"Unrecognized Action"});return!0})),chrome.action.onClicked.addListener((o=>{e()}))})();
=======
(()=>{function e(){return new Promise(((e,o)=>{chrome.tabs.query({active:!0,currentWindow:!0},(o=>{var n=o[0];n&&n.url?e(n.url):console.log("No active tab or URL found.")}))}))}chrome.runtime.onMessage.addListener(((o,n,r)=>("generateReadme"===o.action?e().then((e=>{r({message:e})})).catch((e=>{console.error("Error:",e)})):(console.log(`Unrecognized action: ${o.action}`),r({status:"Unrecognized Action"})),!0))),chrome.action.onClicked.addListener((o=>{e()}))})();
>>>>>>> 5ec81cccba2843a4f8d931e338fdd7358db1c697
